<div class="client-container">
  <h2>Clients</h2>

  <div *ngIf="loading">Chargement...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <form #f="ngForm" (ngSubmit)="create(f)" class="form">
    <label>Nom
      <input name="nom" [(ngModel)]="model.nom" required />
    </label>
    <label>Email
      <input name="email" [(ngModel)]="model.email" />
    </label>
    <label>Téléphone
      <input name="telephone" [(ngModel)]="model.telephone" />
    </label>
    <button type="submit" [disabled]="f.invalid">Ajouter</button>
  </form>

  <hr />

  <ul class="clients-list">
    <li *ngFor="let c of clients">
      <strong>{{ c.nom }}</strong>
      <span *ngIf="c.email"> — {{ c.email }}</span>
      <span *ngIf="c.telephone"> — {{ c.telephone }}</span>
      <button (click)="delete(c.id)">Supprimer</button>
    </li>
  </ul>
</div>
